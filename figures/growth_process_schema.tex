\begin{tikzpicture}

	% Coordinate system
	\newcommand\ticklength{0.1}
		% X
			\draw[->] (0,0) -- (10.5,0);
			\draw (10.75,0) node[anchor=west] {Site \(i\)};
			\foreach \x in {0,1,...,10} {
				\draw (\x, -\ticklength) -- (\x, 0);
			}
		% Y
			\draw[->] (0,0) -- (0,3.5);
			\draw (0,3.5) node[anchor=south] {Height \(h\)};
			\foreach \y in {0,1,...,3} {
				\draw (-\ticklength,\y) -- (0,\y);
				\draw (-\ticklength,\y) node[anchor=east] {\y};
			}

	% Contents

		% Boxes
		\newcommand\drawbox[1] {
			\draw[fill=lgray] #1 -- +(0,1) -- + (1,1) -- + (1,0) -- cycle;
		}
		\foreach \pos in {(2,0), (3,0), (4,0), (4,0), (6,0), (7,0), (8,0), (8,1), (9,0)} {
			\drawbox\pos
		}

		% Evaporation
		\newcommand\evaporate[1] {
			\draw[->,thick,red] #1 ++(0.4,0.5) -- +(0, 0.75);
			\draw[red] #1 ++(0.45,0.75) node[anchor=east] {\(1\)};
		}
		\foreach \pos in {(2,0), (3,0), (4,0), (6,0), (8,1)} {
			\evaporate\pos
		}

		% Deposition
		\newcommand\deposit[1] {
			\draw[->,thick,blue] #1 ++(0.6,0.75) -- +(0, -0.75);
			\draw[blue] #1 ++(0.55,0.5) node[anchor=west] {\(q\)};
		}
		\foreach \pos in {(0,0), (1,0), (3,1), (5,0), (7,1)} {
			\deposit\pos
		}
\end{tikzpicture}